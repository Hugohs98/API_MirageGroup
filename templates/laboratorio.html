<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"> 
    <link rel="stylesheet" href="{{ url_for('static',     filename='css/reset.css') }}">
    <link rel="stylesheet" href="{{ url_for('static',     filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static',     filename='css/main.css') }}">
    <title>Laboratório {{ labnum }}</title>
</head>
<body>

    {% extends "header.html" %}
    {% block content %}

    <main>
        <div class="lab_superior">
            <h1>Laboratório {{labnum}}</h1>
            <!--  <a href="/lab/{{labnum}}/edit">Editar</a> -->
        </div>
        <hr>
        {% if componentes[0][1] == None%}

        <div class="container_lab_vazio">
          <h1>não há computadores aqui</h1>
          <p>no momento, esta sala esta sem dispositivos disponiveis</p>
          <img src="../static/img/error.svg">
        </div>
        
        {% endif %}

        <!-- computadores -->
    <section class="layout_editores">
     
        <div class="area_de_computadores">
          
          {% for computador in computadores %}
            {% if computador[1] == 1 %}
              {% if computador[3] == None %}
              <div class="dropzone">
                  <card class="card_computador card" data-bs-toggle="modal" draggable="true" data-bs-target="#modal-teste"  data-bs-whatever="{{computador[2]}}" id="{{computador[2]}}">
                    <div class="container_popover" data-bs-toggle="popover" data-bs-title="Status do computador" data-bs-content="{{computador[4]}}" data-bs-trigger="hover">  
                      <img src="{{ url_for('static',     filename='img/img_monitor.png') }}" class="imagem_monitor">
                      <div class="container_texto status_verde">
                        <p class="texto_computador ">COMPUTADOR</p>
                        <p class="texto_computador ">{{computador[2]}}</p>
                      </div>
                    </div> 
                  </card>
              </div>
              {% else %}
              <div class="dropzone">
                <card class="card_computador card" data-bs-toggle="modal" draggable="true" data-bs-target="#modal-red"  data-bs-problema='{"pc_problema":"{{computador[3]}}", "pc_descricao":"{{computador[4]}}"}' id="problem">
                  <div class="container_popover" data-bs-toggle="popover" data-bs-title="Status do computador" data-bs-content="{{computador[4]}}" data-bs-trigger="hover">  
                    <img src="{{ url_for('static',     filename='img/img_monitor.png') }}" class="imagem_monitor">
                    <div class="container_texto status_vermelho">
                      <p class="texto_computador ">COMPUTADOR</p>
                      <p class="texto_computador ">{{computador[2]}}</p>
                    </div>
                  </div> 
                </card>
              </div>

                {% endif %}
            {% else %}
              <div class="dropzone"></div>
            {% endif %}
          {% endfor %}

        </div> 
    </section>

        </section>
        {% if componentes[0][1] == None%}
        {% else%}
        <section class="container_especificações">
            <div class="container_especificações_titulo">
              ESPECIFICAÇÕES

            </div> 
            <hr style="width:100%">
            <section class="especificações">
              <div class="especificação_item">
                <h3>Processador</h3>
              
                <img class="especificações_item_imagem" src="../static/img/processor.svg">
                <p class="especificações_texto">{{componentes[0][1]}}</p>
                {% if session.get('key') %}
                <form action="/lab/{{ labnum }}/CPU" method="POST" onsubmit="submit();return false;"> 
                  <input type="text" class="form-control" name="componente" />
                  <button type="submit" class="btn btn-light mt-2">Alterar</button>
                </form>
                {% endif %}
                <p class="especificações_texto_hover"> A CPU ou o processador é o “cérebro” de todo computador e celular do planeta: trata-se do componente responsável por executar todas as operações necessárias para o funcionamento do dispositivo.</p>
              </div>
              <div class="especificação_item">
                <h3>Placa de Vídeo</h3>
                
                <img class="especificações_item_imagem" src="../static/img/gpu.svg">
                <p class="especificações_texto">{{componentes[0][2]}}</p>
                {% if session.get('key') %}
                <form action="/lab/{{ labnum }}/GPU" method="POST" onsubmit="submit();return false;"> 
                  <input type="text" class="form-control" name="componente" />
                  <input type="hidden" value="Alterar Placa de Vídeo" placeholder="Alterar"/>
                  <button type="submit" class="btn btn-light mt-2">Alterar</button>
                </form>
                {% endif %}
                <p class="especificações_texto_hover">GPU é um processadorque trabalha de maneira dedicada a atividades de vídeo dentro do computador. A sigla remete ao nome Unidade de Processamento Gráfico e sua função é processar as informações gráficas de uma máquina. Ela também diminui a sobrecarga da CPU e melhora a troca de dados entre as duas peças. </p>
              </div>
              <div class="especificação_item">
                <h3>Memória RAM</h3>
              
                <img class="especificações_item_imagem" src="../static/img/memoria.svg">
                <p class="especificações_texto">{{componentes[0][3]}}</p>
                {% if session.get('key') %}
                <form action="/lab/{{ labnum }}/MemoriaRAM" method="POST" onsubmit="submit();return false;"> 
                  <input type="text" class="form-control" name="componente" />
                  <button type="submit" class="btn btn-light mt-2">Alterar</button>
                </form>
                {% endif %}
                <p class="especificações_texto_hover"> A memória RAM, também chamado de memória volátil de leitura e escrita, é uma memória temporária computacional de acesso rápido; ou seja, é um local de armazenamento temporário de informações digitais usada pelo processador para armazenar informações temporariamente e que possui um acesso feito de forma aleatória</p>
              </div>
              <div class="especificação_item">
                <h3>Sistema Operacional</h3>
                
                <img class="especificações_item_imagem" src="../static/img/sistema.svg">
                <p class="especificações_texto">{{componentes[0][4]}}</p>
                {% if session.get('key') %}
                <form action="/lab/{{ labnum }}/OS" method="POST" onsubmit="submit();return false;"> 
                  <input type="text" class="form-control" name="componente" />
                  <button type="submit"   class="btn btn-light mt-2">Alterar</button>
                </form>
                {% endif %}
                <p class="especificações_texto_hover "> O sistema operacional é um software, ou conjunto de softwares, cuja função é administrar e gerenciar os recursos de um sistema, desde componentes de hardware e sistemas de arquivos a programas de terceiros, estabelecendo a interface entre o computador e o usuário.</p>
              </div>

            </section>
         

        </section>
        {%endif%}
        
        <div class="div_transição transição_degrade">

        </div>
    </main>

    <!-- Modal REPORT-->
<div class="modal fade" id="modal-teste" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
          <form id="formid" action="/lab/{{labnum}}" method="POST">
            {{ form.csrf_token }}
            <div class="modal-header">
                <h5 class="modal-title fw-bold" id="exampleModalLabel ">Abrir chamado</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body " >
                <div class="mb-3">
                    <label class="form-label " for="#input_numero_pc">Número do Computador</label>
                    {{ form.input_numero_pc(readonly=True, class="form-control espeçamento_modal") }}
                    <br>
                    <label class="form-label fw-bold" for="#email">Insira o seu email institucional</label>
                    <div class="input-group mb-3">
                      {{ form.email(class="form-control espeçamento_modal", placeholder="email.institucional", autocomplete="off") }}
                      <span class="input-group-text" id="basic-addon2">@fatec.sp.gov.br</span>
                    </div>
                    <label class="form-label fw-bold" for="pc_problem">Selecione o tipo de problema que o computador apresenta</label>
                    <label class="form-label">Se o problema que o computador apresenta não corresponder a nenhuma opção, selecione Outro</label>
                    {{ form.pc_problem(class="form-select espaçamento_modal") }}
                    <label for="exampleFormControlTextarea1" class="form-label fw-bold">Descreva o problema</label>
                    <label class="form-label">Seja bem específico na descrição do problema. Não deixe nenhum detalhe de fora, mesmo que seja algo que você acredita que não ajudará na resolução</label>
                    {{ form.problem_description(rows=4, class="form-control") }}
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                <button type="submit" class="btn btn-light" class="btn btn-primary" id="btn_submit">Enviar</button>
            </div>
          </form>
        </div>
    </div>
</div>

    <!-- MODAL VERMELHO-->

    <div class="modal fade" id="modal-red" tabindex="-1" aria-labelledby="exampleModalLabelred" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered text-center">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title fw-bold" id="exampleModalLabel ">Computador com defeito</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body " >
              <div class="modal_red_title">
                <h1 class="fw-bold text-center fs-3">Este computador já foi reportado</h1>
                <p class="fs-6 text-center m-3">Nossa equipe de técnicos já está trabalhando com a manutenção do equipamento</p>
                <img class="text-center" src="{{url_for('static', filename='img/icone_tecnico.png')}}">
              </div>
              <div  class='modal_red_description'>
                <br>
                <p class="fs-5 m-3 fw_semibold"><strong>Problemas relatados neste computador:</strong></p>
                <input type="text" class="form-control espeçamento_modal" id="problema" readonly="true">
                <br>
                <textarea id="descricao" class="form-control espeçamento_modal" readonly="true"></textarea>
              </div>
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
          </div>
          </div>
      </div>
  </div>

  <footer class="footer_home">
    <img class="img-footer" src="../static/img/cps_brasao_sp_320x84.png" alt="fatec-logo">
     <div class="github" >
       <h1>Todos os direitos Reservados</h1>
     </div>
     <div class="link_github">
      <p>Link para nossso repositório:</p>
       <a href="https://github.com/MirageGroup" target="_blank">
         <img class="media-object" src="../static/img/GitHub-Mark-removebg-preview.png" alt="logo-git">
       </a>
      </div> 
  </footer>

<script src="{{ url_for('static',     filename='js/modal.js') }}"></script>

<!-- <script src="{{ url_for('static',     filename='js/lab_report.js') }}"></script> -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-u1OknCvxWvY5kfmNBILK2hRnQC3Pr17a+RTT6rIHI7NnikvbZlHgTPOOmMi466C8" crossorigin="anonymous"></script>

<script>
  const popoverTriggerList = document.querySelectorAll('[data-bs-toggle="popover"]')
  const popoverList = [...popoverTriggerList].map(popoverTriggerEl => new bootstrap.Popover(popoverTriggerEl))
</script>

{% endblock %}

</body>
</html>